# å“ˆå¸Œç ´è§£

## æ‘˜è¦

* [Hashcat](https://hashcat.net/hashcat/)
  * [Hashcat ç¤ºä¾‹å“ˆå¸Œ](https://hashcat.net/wiki/doku.php?id=example_hashes)
  * [Hashcat å®‰è£…](#hashcat-install)
  * [æ©ç æ”»å‡»](#mask-attack)
  * [å­—å…¸](#dictionary)
* [John](https://github.com/openwall/john)
  * [ä½¿ç”¨æ–¹æ³•](#john-usage)
* [å½©è™¹è¡¨](#rainbow-tables)
* [æŠ€å·§ä¸è¯€çª](#tips-and-tricks)
* [åœ¨çº¿ç ´è§£èµ„æº](#online-cracking-resources)
* [å‚è€ƒèµ„æ–™](#references)


## Hashcat

### Hashcat å®‰è£…

```powershell
apt install cmake build-essential -y
apt install checkinstall git -y
git clone https://github.com/hashcat/hashcat.git && cd hashcat && make -j 8 && make install
```

1. æå–å“ˆå¸Œå€¼
2. è·å–å“ˆå¸Œæ ¼å¼ï¼šhttps://hashcat.net/wiki/doku.php?id=example_hashes
3. æ ¹æ®å“ˆå¸Œæ ¼å¼åˆ¶å®šç ´è§£ç­–ç•¥ï¼ˆä¾‹å¦‚ï¼šå­—å…¸ -> å­—å…¸ + è§„åˆ™ -> æ©ç  -> ç»„åˆæ¨¡å¼ -> ç‹å­æ”»å‡» -> ...ï¼‰
4. äº«å—æ˜æ–‡å¯†ç 
5. å›é¡¾ç­–ç•¥
6. é‡æ–°å¼€å§‹

### å­—å…¸

> ç»™å®šåˆ—è¡¨ï¼ˆå³å­—å…¸ï¼‰ä¸­çš„æ¯ä¸ªå•è¯éƒ½è¢«å“ˆå¸Œå¹¶ä¸ç›®æ ‡å“ˆå¸Œè¿›è¡Œæ¯”è¾ƒã€‚

```powershell
hashcat --attack-mode 0 --hash-type $number $hashes_file $wordlist_file -r $my_rules
```

* è¯æ±‡è¡¨
  * [packetstorm](https://packetstormsecurity.com/Crackers/wordlists/)
  * [weakpass_3a](https://download.weakpass.com/wordlists/1948/weakpass_3a.7z)
  * [weakpass_3](https://download.weakpass.com/wordlists/1947/weakpass_3.7z)
  * [Hashes.org](https://download.weakpass.com/wordlists/1931/Hashes.org.7z)
  * [kerberoast_pws](https://gist.github.com/edermi/f8b143b11dc020b854178d3809cf91b5/raw/b7d83af6a8bbb43013e04f78328687d19d0cf9a7/kerberoast_pws.xz)
  * [hashmob.net](https://hashmob.net/research/wordlists)
  * [clem9669/wordlists](https://github.com/clem9669/wordlists)

* è§„åˆ™
  * [ä¸€æ¡è§„åˆ™ç»Ÿæ²»å®ƒä»¬å…¨éƒ¨](https://notsosecure.com/one-rule-to-rule-them-all/)
  * [nsa-rules](https://github.com/NSAKEY/nsa-rules)
  * [hob064](https://raw.githubusercontent.com/praetorian-inc/Hob0Rules/master/hob064.rule)
  * [d3adhob0](https://raw.githubusercontent.com/praetorian-inc/Hob0Rules/master/d3adhob0.rule)
  * [clem9669/hashcat-rule](https://github.com/clem9669/hashcat-rule)

### æ©ç æ”»å‡»

æ©ç æ”»å‡»æ˜¯ä¸€ç§ä¼˜åŒ–æš´åŠ›ç ´è§£çš„æ”»å‡»æ¨¡å¼ã€‚

> ç»™å®šå­—ç¬¦é›†å’Œç»™å®šé•¿åº¦çš„æ‰€æœ‰å¯èƒ½æ€§ï¼ˆå³ aaa, aab, aac, ...ï¼‰éƒ½è¢«å“ˆå¸Œå¹¶ä¸ç›®æ ‡å“ˆå¸Œè¿›è¡Œæ¯”è¾ƒã€‚

```powershell
# æ©ç ï¼šå¤§å†™å­—æ¯*1+å°å†™å­—æ¯*5+æ•°å­—*2 å’Œ å¤§å†™å­—æ¯*1+å°å†™å­—æ¯*6+æ•°å­—*2
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 ?u?l?l?l?l?l?d?d
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 ?u?l?l?l?l?l?l?d?d
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 -1 "*+!??" ?u?l?l?l?l?l?d?d?1
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 -1 "*+!??" ?u?l?l?l?l?l?l?d?d?1

# æ©ç ï¼šå¤§å†™å­—æ¯*1+å°å†™å­—æ¯*3+æ•°å­—*4 å’Œ å¤§å†™å­—æ¯*1+å°å†™å­—æ¯*3+æ•°å­—*4
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 ?u?l?l?l?d?d?d?d
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 ?u?l?l?l?l?d?d?d?d
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 ?u?l?l?l?l?l?d?d?d?d
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 -1 "*+!??" ?u?l?l?l?d?d?d?d?1
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 -1 "*+!??" ?u?l?l?l?l?d?d?d?d?1

# æ©ç ï¼šå°å†™å­—æ¯*6 + æ•°å­—*2 + ç‰¹æ®Šæ•°å­—ï¼ˆ+!?*ï¼‰
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 -1 "*+!??" ?l?l?l?l?l?l?d?d?1
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 -1 "*+!??" ?l?l?l?l?l?l?d?d?1?1

# æ©ç ï¼šå°å†™å­—æ¯*6 + æ•°å­—*2
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 /content/hashcat/masks/8char-1l-1u-1d-1s-compliant.hcmask
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 -1 ?l?d?u ?1?1?1?1?1?1?1?1

# å…¶ä»–ç¤ºä¾‹
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 ?a?a?a?a?a?a?a?a?a
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 ?a?a?a?a?a?a?a?a
hashcat -m 1000 --status --status-timer 300 -w 4 -O /content/*.ntds -a 3 ?u?l?l?l?l?l?l?d?d?d?d
hashcat --attack-mode 3 --increment --increment-min 4 --increment-max 8 --hash-type $number $hashes_file "?a?a?a?a?a?a?a?a?a?a?a?a"
hashcat --attack-mode 3 --hash-type $number $hashes_file "?u?l?l?l?d?d?d?d?s"
hashcat --attack-mode 3 --hash-type $number $hashes_file "?a?a?a?a?a?a?a?a"
hashcat --attack-mode 3 --custom-charset1 "?u" --custom-charset2 "?l?u?d" --custom-charset3 "?d" --hash-type $number $hashes_file "?1?2?2?2?3"
```

| å¿«æ·é”® | å­—ç¬¦                            |
| ------ | ------------------------------- |
| ?l     | abcdefghijklmnopqrstuvwxyz      |
| ?u     | ABCDEFGHIJKLMNOPQRSTUVWXYZ      |
| ?d     | 0123456789                      |
| ?s     | !"#$%&'()*+,-./:;<=>?@[\]^_`{}~ |
| ?a     | ?l?u?d?s                        |
| ?b     | 0x00 - 0xff                     |



## John


### John ä½¿ç”¨æ–¹æ³•

```bash
# åœ¨åŒ…å«è¦ç ´è§£çš„å“ˆå¸Œçš„å¯†ç æ–‡ä»¶ä¸Šè¿è¡Œ
john passwd

# ä½¿ç”¨ç‰¹å®šè¯æ±‡è¡¨
john --wordlist=<wordlist> passwd

# ä½¿ç”¨ç‰¹å®šè¯æ±‡è¡¨å’Œè§„åˆ™
john --wordlist=<wordlist> passwd --rules=Jumbo

# æ˜¾ç¤ºç ´è§£çš„å¯†ç 
john --show passwd

# æ¢å¤ä¸­æ–­çš„ä¼šè¯
john --restore
```


## å½©è™¹è¡¨

> åœ¨é¢„è®¡ç®—è¡¨ä¸­æŸ¥æ‰¾å“ˆå¸Œå€¼ã€‚è¿™æ˜¯ä¸€ç§æ—¶é—´-å†…å­˜æƒè¡¡ï¼Œå…è®¸æ¯”ä¼ ç»Ÿæš´åŠ›ç ´è§£æˆ–å­—å…¸æ”»å‡»æ›´å¿«åœ°ç ´è§£å“ˆå¸Œï¼Œä½†éœ€è¦æ¯”å®ƒä»¬æ›´å¤šçš„å†…å­˜ã€‚å¦‚æœå“ˆå¸Œå€¼åŠ ç›ï¼ˆå³ï¼Œä¸é¢å¤–çš„éšæœºå€¼ä½œä¸ºå‰ç¼€/åç¼€ä¸€èµ·å“ˆå¸Œï¼Œä½¿å¾—é¢„è®¡ç®—è¡¨æ— å…³ç´§è¦ï¼‰ï¼Œåˆ™æ­¤æ”»å‡»æ— æ³•å·¥ä½œã€‚

## æŠ€å·§ä¸è¯€çª

* äº‘ç«¯GPU
  * [penglab - æ»¥ç”¨ Google Colab è¿›è¡Œå“ˆå¸Œç ´è§£ã€‚ğŸ§](https://github.com/mxrch/penglab)
  * [google-colab-hashcat - Google colab å“ˆå¸Œç ´è§£](https://github.com/ShutdownRepo/google-colab-hashcat)
  * [Cloudtopolis - é›¶åŸºç¡€è®¾æ–½å¯†ç ç ´è§£](https://github.com/JoelGMSec/Cloudtopolis)
  * [Nephelees - åŒæ ·æ˜¯æ»¥ç”¨ Google Colab çš„ NTDS ç ´è§£å·¥å…·](https://github.com/swisskyrepo/Nephelees)
* åœ¨æœ¬åœ°æ­å»ºç ´è§£å¹³å°
  * [Pentester's Portable Cracking Rig - $1000](https://www.netmux.com/blog/portable-cracking-rig)
  * [å¦‚ä½•æ­å»ºå¯†ç ç ´è§£å¹³å° - 5000$](https://www.netmux.com/blog/how-to-build-a-password-cracking-rig)
* åœ¨çº¿ç ´è§£
  * [hashes.com](https://hashes.com/en/decrypt/hash)
  * [hashmob.net](https://hashmob.net/)ï¼šæ‹¥æœ‰Discordçš„ä¼˜ç§€ç¤¾åŒº
* ç»“åˆè§„åˆ™å’Œå­—å…¸ä½¿ç”¨ `loopback` ä»¥æŒç»­ç ´è§£ç›´åˆ°æ‰¾ä¸åˆ°æ–°å¯†ç ï¼š`hashcat --loopback --attack-mode 0 --rules-file $rules_file --hash-type $number $hashes_file $wordlist_file`
* PACKï¼ˆå¯†ç åˆ†æä¸ç ´è§£å¥—ä»¶ï¼‰
  * https://github.com/iphelix/pack/blob/master/README
  * å¯ä»¥åŸºäºè¾“å…¥æ•°æ®é›†åº”ç”¨çš„ç»Ÿè®¡å’Œè§„åˆ™ç”Ÿæˆè‡ªå®šä¹‰ hcmask æ–‡ä»¶ä»¥ä¸ hashcat ä¸€èµ·ä½¿ç”¨
* ä½¿ç”¨æ·±åº¦å­¦ä¹ 
  * [brannondorsey/PassGAN](https://github.com/brannondorsey/PassGAN)


## åœ¨çº¿ç ´è§£èµ„æº

* [hashes.com](https://hashes.com)
* [crackstation](https://crackstation.net)
* [Hashmob](https://hashmob.net/)


## å‚è€ƒèµ„æ–™

* [ç ´è§£ - é»‘å®¢é£Ÿè°±](https://www.thehacker.recipes/ad-ds/movement/credentials/cracking)
* [åœ¨ Azure ä¸Šä½¿ç”¨ Hashcat ç ´è§£å“ˆå¸Œ](https://durdle.com/2017/04/23/using-hashcat-to-crack-hashes-on-azure/)
* [miloserdov.org hashcat](https://miloserdov.org/?p=5426&PageSpeed=noscript)
* [miloserdov.org john](https://miloserdov.org/?p=4961&PageSpeed=noscript)
* [DeepPass â€” ä½¿ç”¨æ·±åº¦å­¦ä¹ å¯»æ‰¾å¯†ç  - Will Schroeder - Jun 1](https://posts.specterops.io/deeppass-finding-passwords-with-deep-learning-4d31c534cd00)